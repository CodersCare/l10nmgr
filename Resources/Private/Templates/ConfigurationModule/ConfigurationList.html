<html
    xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    data-namespace-typo3-fluid="true"
    lang="en"
>

    <f:layout name="Module"/>

    <f:section name="Content">

        <f:be.pageRenderer
            includeCssFiles="{stylesheets}"
        />

        <f:variable name="lll" value="LLL:EXT:l10nmgr/Resources/Private/Language/Modules/ConfigurationManager/locallang.xlf:"/>
        <h1><f:translate key="{lll}general.title"/> - <f:translate key="{lll}general.list.configuration.manager"/></h1>
        <p><f:translate key="{lll}general.description.message"/></p>

        <f:if condition="{configurations -> f:count()} == 0">
            <f:then>
                <f:be.infobox state="-1" title="{f:translate(key: 'LLL:EXT:l10nmgr/Resources/Private/Language/Modules/ConfigurationManager/locallang.xlf:general.no_configurations.title')}">
                    <p><f:translate key="LLL:EXT:l10nmgr/Resources/Private/Language/Modules/ConfigurationManager/locallang.xlf:general.no_configurations.message" /></p>
                </f:be.infobox>
            </f:then>
            <f:else>
                <div>
                    <h2 class="uppercase">
                        <f:translate key="{lll}general.list.configuration.title"/>
                    </h2>
                </div>
                <div class="table-fit">
                    <table class="table table-striped table-hover">
                        <thead>
                            <tr>
                                <th nowrap="nowrap" class="col-info">
                                    <f:translate key="{lll}general.list.headline.info.title"/>
                                </th>
                                <th nowrap="nowrap" class="col-title">
                                    <f:translate key="{lll}general.list.headline.title.title"/>
                                </th>
                                <th nowrap="nowrap" class="col-path">
                                    <f:translate key="{lll}general.list.headline.path.title"/>
                                </th>
                                <th nowrap="nowrap" class="col-depth">
                                    <f:translate key="{lll}general.list.headline.depth.title"/>
                                </th>
                                <th class="col-tables">
                                    <f:translate key="{lll}general.list.headline.tables.title"/>
                                </th>
                                <th class="col-exclude">
                                    <f:translate key="{lll}general.list.headline.exclude.title"/>
                                </th>
                                <th class="col-include">
                                    <f:translate key="{lll}general.list.headline.include.title"/>
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                            <f:for each="{configurations}" as="configuration">
                                <tr class="db_list_normal">
                                    <td>
                                        <core:icon identifier="actions-document-info" />
                                    </td>
                                    <td>
                                        <a href="{configuration.link}">{configuration.title}</a>
                                    </td>
                                    <td>
                                        {configuration.path}
                                    </td>
                                    <td>
                                        {configuration.depth}
                                    </td>
                                    <td>
                                        {configuration.tablelist}
                                    </td>
                                    <td>
                                        {configuration.exclude}
                                    </td>
                                    <td>
                                        {configuration.include}
                                    </td>
                                </tr>
                            </f:for>
                        </tbody>
                    </table>
                </div>
            </f:else>
        </f:if>
    </f:section>
</html>
